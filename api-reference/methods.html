<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>实例方法 | ARK MAP</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="新监管态势出品">
    
    <link rel="preload" href="/map-doc/assets/css/0.styles.99eb54c3.css" as="style"><link rel="preload" href="/map-doc/assets/js/app.bc981c4b.js" as="script"><link rel="preload" href="/map-doc/assets/js/9.e81450af.js" as="script"><link rel="preload" href="/map-doc/assets/js/37.28834f24.js" as="script"><link rel="prefetch" href="/map-doc/assets/js/1.db1d1ede.js"><link rel="prefetch" href="/map-doc/assets/js/10.65871ff1.js"><link rel="prefetch" href="/map-doc/assets/js/11.66017f05.js"><link rel="prefetch" href="/map-doc/assets/js/12.810298c0.js"><link rel="prefetch" href="/map-doc/assets/js/13.a2fed753.js"><link rel="prefetch" href="/map-doc/assets/js/14.01cc7ff0.js"><link rel="prefetch" href="/map-doc/assets/js/15.bda86395.js"><link rel="prefetch" href="/map-doc/assets/js/16.dd9e20e6.js"><link rel="prefetch" href="/map-doc/assets/js/17.6663d523.js"><link rel="prefetch" href="/map-doc/assets/js/18.fd9cf2cc.js"><link rel="prefetch" href="/map-doc/assets/js/19.66539fc9.js"><link rel="prefetch" href="/map-doc/assets/js/2.bfe55ef7.js"><link rel="prefetch" href="/map-doc/assets/js/20.58bbe4c7.js"><link rel="prefetch" href="/map-doc/assets/js/21.5c0f64cc.js"><link rel="prefetch" href="/map-doc/assets/js/22.ea09a74f.js"><link rel="prefetch" href="/map-doc/assets/js/23.f0bd8569.js"><link rel="prefetch" href="/map-doc/assets/js/24.c9eef953.js"><link rel="prefetch" href="/map-doc/assets/js/25.5b35a479.js"><link rel="prefetch" href="/map-doc/assets/js/26.6ab8b7d3.js"><link rel="prefetch" href="/map-doc/assets/js/27.7c05bb67.js"><link rel="prefetch" href="/map-doc/assets/js/28.1edd2820.js"><link rel="prefetch" href="/map-doc/assets/js/29.c33cf347.js"><link rel="prefetch" href="/map-doc/assets/js/3.aebe710c.js"><link rel="prefetch" href="/map-doc/assets/js/30.cdb0a8e8.js"><link rel="prefetch" href="/map-doc/assets/js/31.094cb9cf.js"><link rel="prefetch" href="/map-doc/assets/js/32.f85ae62e.js"><link rel="prefetch" href="/map-doc/assets/js/33.02976ac2.js"><link rel="prefetch" href="/map-doc/assets/js/34.bb60ce18.js"><link rel="prefetch" href="/map-doc/assets/js/35.d0d8eedc.js"><link rel="prefetch" href="/map-doc/assets/js/36.2d45bbcb.js"><link rel="prefetch" href="/map-doc/assets/js/38.758dd9d3.js"><link rel="prefetch" href="/map-doc/assets/js/39.c029c3cf.js"><link rel="prefetch" href="/map-doc/assets/js/4.53b7ea1e.js"><link rel="prefetch" href="/map-doc/assets/js/40.d0550927.js"><link rel="prefetch" href="/map-doc/assets/js/41.f4c810ad.js"><link rel="prefetch" href="/map-doc/assets/js/42.f5ce967c.js"><link rel="prefetch" href="/map-doc/assets/js/43.9853ed93.js"><link rel="prefetch" href="/map-doc/assets/js/44.022a58e0.js"><link rel="prefetch" href="/map-doc/assets/js/45.08f34172.js"><link rel="prefetch" href="/map-doc/assets/js/46.1231e1b2.js"><link rel="prefetch" href="/map-doc/assets/js/47.44d6404a.js"><link rel="prefetch" href="/map-doc/assets/js/48.d1d93fdc.js"><link rel="prefetch" href="/map-doc/assets/js/49.afa99942.js"><link rel="prefetch" href="/map-doc/assets/js/5.9833e894.js"><link rel="prefetch" href="/map-doc/assets/js/50.5e13694f.js"><link rel="prefetch" href="/map-doc/assets/js/51.a184b63b.js"><link rel="prefetch" href="/map-doc/assets/js/52.6f576306.js"><link rel="prefetch" href="/map-doc/assets/js/53.ed844a29.js"><link rel="prefetch" href="/map-doc/assets/js/54.838bac8c.js"><link rel="prefetch" href="/map-doc/assets/js/55.f10d71cd.js"><link rel="prefetch" href="/map-doc/assets/js/56.71409b20.js"><link rel="prefetch" href="/map-doc/assets/js/57.7ddda345.js"><link rel="prefetch" href="/map-doc/assets/js/58.046ffd49.js"><link rel="prefetch" href="/map-doc/assets/js/59.1f814794.js"><link rel="prefetch" href="/map-doc/assets/js/6.9d4dda25.js"><link rel="prefetch" href="/map-doc/assets/js/8.244b22af.js">
    <link rel="stylesheet" href="/map-doc/assets/css/0.styles.99eb54c3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/map-doc/" class="home-link router-link-active"><!----> <span class="site-name">ARK MAP</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/map-doc/guide/" class="nav-link">
  教程
</a></div><div class="nav-item"><a href="/map-doc/api-reference/map.html" class="nav-link">
  API参考
</a></div><div class="nav-item"><a href="/map-doc/style-specification/" class="nav-link">
  样式规范
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大屏" class="dropdown-title"><span class="title">大屏</span> <span class="arrow down"></span></button> <button type="button" aria-label="大屏" class="mobile-dropdown-title"><span class="title">大屏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/map-doc/screen/zb.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  重大安保
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="样例" class="dropdown-title"><span class="title">样例</span> <span class="arrow down"></span></button> <button type="button" aria-label="样例" class="mobile-dropdown-title"><span class="title">样例</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/map-doc/examples/center-lighting.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  中心高光
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/map-doc/examples/skybox.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  天空盒
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/map-doc/examples/flyline.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  空中飞线
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/map-doc/examples/point.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  打点
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/map-doc/examples/3Dbuildings.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  街景
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/map-doc/examples/dof.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  景深
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/map-doc/examples/flotsam.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  雪天
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/map-doc/examples/lightup.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  点亮建筑
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/map-doc/examples/focus.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  聚焦
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/map-doc/examples/cover.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  防护罩
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/map-doc/examples/heatmap.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  热力图
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/map-doc/examples/navigation.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  路网导航
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/map-doc/guide/" class="nav-link">
  教程
</a></div><div class="nav-item"><a href="/map-doc/api-reference/map.html" class="nav-link">
  API参考
</a></div><div class="nav-item"><a href="/map-doc/style-specification/" class="nav-link">
  样式规范
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大屏" class="dropdown-title"><span class="title">大屏</span> <span class="arrow down"></span></button> <button type="button" aria-label="大屏" class="mobile-dropdown-title"><span class="title">大屏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/map-doc/screen/zb.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  重大安保
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="样例" class="dropdown-title"><span class="title">样例</span> <span class="arrow down"></span></button> <button type="button" aria-label="样例" class="mobile-dropdown-title"><span class="title">样例</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/map-doc/examples/center-lighting.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  中心高光
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/map-doc/examples/skybox.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  天空盒
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/map-doc/examples/flyline.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  空中飞线
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/map-doc/examples/point.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  打点
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/map-doc/examples/3Dbuildings.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  街景
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/map-doc/examples/dof.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  景深
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/map-doc/examples/flotsam.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  雪天
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/map-doc/examples/lightup.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  点亮建筑
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/map-doc/examples/focus.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  聚焦
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/map-doc/examples/cover.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  防护罩
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/map-doc/examples/heatmap.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  热力图
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/map-doc/examples/navigation.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  路网导航
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/map-doc/api-reference/map.html" class="sidebar-link">构造配置</a></li><li><a href="/map-doc/api-reference/methods.html" aria-current="page" class="active sidebar-link">实例方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#高级" class="sidebar-link">高级</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#addbuildings-options" class="sidebar-link">addBuildings(options)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#removebuilding" class="sidebar-link">removeBuilding()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#addcover-options" class="sidebar-link">addCover(options)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#removecover-id" class="sidebar-link">removeCover(id)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#addskybox-options" class="sidebar-link">addSkyBox(options)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#addmarker-options" class="sidebar-link">addMarker(options)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#removemarker-id" class="sidebar-link">removeMarker(id)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#addpopup-options" class="sidebar-link">addPopup(options)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#removepopup-id" class="sidebar-link">removePopup(id)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#lightupbuilding-options" class="sidebar-link">lightUpBuilding(options)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#setflotsam-options" class="sidebar-link">setFlotsam(options)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#focus-options-callback" class="sidebar-link">focus(options, callback)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#addflyline-options" class="sidebar-link">addFlyLine(options)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#removeflyline-id" class="sidebar-link">removeFlyLine(id)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#setdof-options" class="sidebar-link">setDOF(options)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#addstreamer-geojson-options" class="sidebar-link">addStreamer(geojson, options)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#removestreamer-id" class="sidebar-link">removeStreamer(id)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#add3dmodel-obj-options" class="sidebar-link">add3DModel(obj, options)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#remove3dmodel-id" class="sidebar-link">remove3DModel(id)</a></li></ul></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#容器" class="sidebar-link">容器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#getcontianer" class="sidebar-link">getContianer()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#getcanvascontianer" class="sidebar-link">getCanvasContianer()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#getcanvas" class="sidebar-link">getCanvas()</a></li></ul></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#约束" class="sidebar-link">约束</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#resize-eventdata" class="sidebar-link">resize(eventData)()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#getbounds" class="sidebar-link">getBounds()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#getmaxbounds" class="sidebar-link">getMaxBounds()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#setmaxbounds-bounds" class="sidebar-link">setMaxBounds(bounds)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#setminzoom-minzoom" class="sidebar-link">setMinZoom(minZoom)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#getminzoom" class="sidebar-link">getMinZoom()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#setmaxzoom-maxzoom" class="sidebar-link">setMaxZoom(maxZoom)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#getmaxzoom" class="sidebar-link">getMaxZoom()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#setminpitch-minpitch" class="sidebar-link">setMinPitch(minPitch)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#getminpitch" class="sidebar-link">getMinPitch()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#setmaxpitch-maxpitch" class="sidebar-link">setMaxPitch(maxPitch)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#getmaxpitch" class="sidebar-link">getMaxPitch()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#getrenderworldcopies" class="sidebar-link">getRenderWorldCopies()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#setrenderworldcopies-renderworldcopies" class="sidebar-link">setRenderWorldCopies(renderWorldCopies)</a></li></ul></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#投影" class="sidebar-link">投影</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#getprojection" class="sidebar-link">getProjection()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#setprojection-projection" class="sidebar-link">setProjection(projection)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#project-lnglat" class="sidebar-link">project(lnglat)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#unproject-point" class="sidebar-link">unproject(point)</a></li></ul></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#移动" class="sidebar-link">移动</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#ismoving" class="sidebar-link">isMoving()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#iszooming" class="sidebar-link">isZooming()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#isrotating" class="sidebar-link">isRotating()</a></li></ul></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#事件" class="sidebar-link">事件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#on-type-layerids-listener" class="sidebar-link">on(type, layerIds, listener)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#once-type-layerids-listener" class="sidebar-link">once(type, layerIds, listener)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#off-type-layerids-listener" class="sidebar-link">off(type, layerIds, listener)</a></li></ul></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#要素查询" class="sidebar-link">要素查询</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#queryrenderedfeatures-geometry-options" class="sidebar-link">queryRenderedFeatures(geometry?, options?)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#querysourcefeatures-sourceid-parameters" class="sidebar-link">querySourceFeatures(sourceId, parameters)</a></li></ul></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#样式" class="sidebar-link">样式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#setstyle-style-options" class="sidebar-link">setStyle(style, options?)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#getstyle" class="sidebar-link">getStyle()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#isstyleloaded" class="sidebar-link">isStyleLoaded()</a></li></ul></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#源" class="sidebar-link">源</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#addsource" class="sidebar-link">addSource()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#issourceloaded" class="sidebar-link">isSourceLoaded()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#aretilesloaded" class="sidebar-link">areTilesLoaded()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#removesource" class="sidebar-link">removeSource()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#getsource-id" class="sidebar-link">getSource(id)</a></li></ul></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#图片" class="sidebar-link">图片</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#addimage-id-image" class="sidebar-link">addimage(id, image)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#updateimage-id-image" class="sidebar-link">updateImage(id, image)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#hasimage-id" class="sidebar-link">hasImage(id)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#removeimage-id" class="sidebar-link">removeImage(id)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#loadimage-url-callback" class="sidebar-link">loadImage(url, callback)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#listimages" class="sidebar-link">listImages()</a></li></ul></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#图层" class="sidebar-link">图层</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#addlayer-layer-beforeid" class="sidebar-link">addLayer(layer, beforeId?)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#movelayer-id-beforeid" class="sidebar-link">moveLayer(id, beforeId?)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#removelayer-id" class="sidebar-link">removeLayer(id)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#getlayer-id" class="sidebar-link">getLayer(id)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#setlayerzoomrange-layerid-minzoom-maxzoom" class="sidebar-link">setLayerZoomRange(layerId, minzoom, maxzoom)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#setfilter-layerid-filter" class="sidebar-link">setFilter(layerId, filter)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#getfilter-layerid" class="sidebar-link">getFilter(layerId)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#setpaintproperty-layerid-name-value" class="sidebar-link">setPaintProperty(layerId, name, value)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#getpaintproperty-layerid-name" class="sidebar-link">getPaintProperty(layerId, name)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#setlayoutproperty-layerid-name-value" class="sidebar-link">setLayoutProperty(layerId, name, value)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#getlayoutproperty-layerid-name" class="sidebar-link">getLayoutProperty(layerId, name)</a></li></ul></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#样式-2" class="sidebar-link">样式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#setlight-light" class="sidebar-link">setLight(light)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#getlight" class="sidebar-link">getLight()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#setfog-fog" class="sidebar-link">setFog(fog)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#getfog" class="sidebar-link">getFog()</a></li></ul></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#要素状态" class="sidebar-link">要素状态</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#setfeaturestate-feature-state" class="sidebar-link">setFeatureState(feature, state)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#removefeaturestate-feature-key" class="sidebar-link">removeFeatureState(feature, key)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#getfeaturestate-feature" class="sidebar-link">getFeatureState(feature)</a></li></ul></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#生命周期" class="sidebar-link">生命周期</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#loaded" class="sidebar-link">loaded()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#destroy" class="sidebar-link">destroy()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#triggerrepaint" class="sidebar-link">triggerRepaint()</a></li></ul></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#相机" class="sidebar-link">相机</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#getcenter" class="sidebar-link">getCenter()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#setcenter" class="sidebar-link">setCenter()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#panby-offset-options-eventdata" class="sidebar-link">panBy(offset, options, eventData)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#panto-lnglat-options-eventdata" class="sidebar-link">panTo(lnglat, options, eventData)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#getzoom" class="sidebar-link">getZoom()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#setzoom-zoom-eventdata" class="sidebar-link">setZoom(zoom, eventData)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#zoomto-zoom-options-eventdata" class="sidebar-link">zoomTo(zoom, options, eventData)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#zoomin-options-eventdata" class="sidebar-link">zoomIn(options, eventData)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#zoomout-options-eventdata" class="sidebar-link">zoomOut(options, eventData)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#getbearing" class="sidebar-link">getBearing()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#setbearing-bearing-eventdata" class="sidebar-link">setBearing(bearing, eventData)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#getpadding" class="sidebar-link">getPadding()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#setpadding-padding-eventdata" class="sidebar-link">setPadding(padding, eventData)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#rotateto-bearing-options-eventdata" class="sidebar-link">rotateTo(bearing, options, eventData)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#resetnorth-options-eventdata" class="sidebar-link">resetNorth(options, eventData)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#resetnorthpitch-options-eventdata" class="sidebar-link">resetNorthPitch(options, eventData)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#getpitch" class="sidebar-link">getPitch()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#setpitch-pitch-eventdata" class="sidebar-link">setPitch(pitch, eventData)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#fitbounds-bounds-options-eventdata" class="sidebar-link">fitBounds(bounds, options?, eventData?)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#jumpto-options-eventdata" class="sidebar-link">jumpTo(options, eventData?)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#getfreecameraoptions" class="sidebar-link">getFreeCameraOptions()</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#setfreecameraoptions-options-eventdata" class="sidebar-link">setFreeCameraOptions(options, eventData)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#easeto-options-eventdata" class="sidebar-link">easeTo(options, eventData)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#flyto-options-eventdata" class="sidebar-link">flyTo(options, eventData)</a></li><li class="sidebar-sub-header"><a href="/map-doc/api-reference/methods.html#stop" class="sidebar-link">stop()</a></li></ul></li></ul></li><li><a href="/map-doc/api-reference/common-methods.html" class="sidebar-link">公用方法</a></li><li><a href="/map-doc/api-reference/common-class.html" class="sidebar-link">公用类</a></li><li><a href="/map-doc/api-reference/events.html" class="sidebar-link">事件</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="实例方法"><a href="#实例方法" class="header-anchor">#</a> 实例方法</h1> <h2 id="高级"><a href="#高级" class="header-anchor">#</a> 高级</h2> <h3 id="addbuildings-options"><a href="#addbuildings-options" class="header-anchor">#</a> <code>addBuildings(options)</code></h3> <p>在地图中添加3D建筑。</p> <p><strong>参数列表：</strong></p> <p><em>options&lt;object&gt;</em> 所有配置项都是可选的</p> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td><strong>textures&lt;Array&lt;HTMLImageElement&gt;&gt;</strong></td> <td>建筑贴图，必须为6张或者0张</td></tr> <tr><td><strong>roofcolor&lt;string&gt;</strong> default: 'auto'</td> <td>屋顶色，若未设置<code>textures</code>则忽略此项。</td></tr> <tr><td><strong>activeZoom&lt;number&gt;</strong> default: 13</td> <td>在此缩放值显示建筑。</td></tr> <tr><td><strong>removeZoom&lt;number&gt;</strong> default: 7</td> <td>在此缩放值删除建筑。</td></tr> <tr><td><strong>buildingColor&lt;string&gt;</strong> default: '#fff'</td> <td>建筑色，若设置<code>textures</code>则改颜色和贴图进行混合，混合参数为<code>mixinStrength</code></td></tr> <tr><td><strong>opacity&lt;string&gt;</strong> default: 1</td> <td>建筑透明度</td></tr> <tr><td><strong>sourceLayer&lt;string&gt;</strong> default: 'buildings'</td> <td>适量瓦片源图层。</td></tr> <tr><td><strong>heightField&lt;string&gt;</strong> default: 'height'</td> <td>源数据中用于生成建筑高度的字段。</td></tr> <tr><td><strong>before&lt;string&gt;</strong> default: null</td> <td>将建筑图层添加到那个图层之前，默认添加在图层列表末尾。</td></tr> <tr><td><strong>mixinStrength&lt;number&gt;</strong> default: 1</td> <td>混合建筑贴图和建筑颜色的参数。</td></tr> <tr><td><strong>light&lt;object&gt;</strong> default: {color: '#000'}</td> <td>建筑打光配置，注：颜色采用加法算法，故如不需打光，设置<code>color: '#000'</code>即可</td></tr></tbody></table> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">addBuildings</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">buildingColor</span><span class="token operator">:</span> <span class="token string">'#fff'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">activeZoom</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
  <span class="token literal-property property">removeZoom</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
  <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token number">0.2</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="removebuilding"><a href="#removebuilding" class="header-anchor">#</a> <code>removeBuilding()</code></h3> <p>在地图中移除3D建筑。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">removeBuilding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="addcover-options"><a href="#addcover-options" class="header-anchor">#</a> <code>addCover(options)</code></h3> <p>在地图中添加防护罩。</p> <p><strong>参数列表：</strong></p> <p><em>options&lt;object&gt;</em> 所有配置项都是可选的</p> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td><strong>bounds&lt;<a href="/map-doc/api-reference/common-class.html#lnglatbounds">LngLatBounds</a>&gt;</strong></td> <td>防护罩中心点</td></tr> <tr><td><strong>coverColor&lt;string&gt;</strong> default: '#2959F0'</td> <td>防护罩色。</td></tr> <tr><td><strong>coverOpacity&lt;number&gt;</strong> default: 1</td> <td>防护罩透明度</td></tr> <tr><td><strong>scanColor&lt;string&gt;</strong> default: '#3F95FF'</td> <td>冲击波颜色</td></tr> <tr><td><strong>scanOpacity&lt;number&gt;</strong> default: 1</td> <td>冲击波透明度</td></tr> <tr><td><strong>scanWidthFactor&lt;number&gt;</strong> default: 0.06</td> <td>冲击波宽度系数</td></tr> <tr><td><strong>speed&lt;number&gt;</strong> default: 0.01</td> <td>冲击波速度系数</td></tr></tbody></table> <p><strong>返回值：</strong></p> <p>防护罩唯一id。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">addCover</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  bounds
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="removecover-id"><a href="#removecover-id" class="header-anchor">#</a> <code>removeCover(id)</code></h3> <p>在地图中移除防护罩。</p> <p><strong>参数列表：</strong></p> <p><em>id&lt;string&gt;</em> 要移除的防护罩的id</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">addCover</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="addskybox-options"><a href="#addskybox-options" class="header-anchor">#</a> <code>addSkyBox(options)</code></h3> <p>添加天空盒。</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>注意：由于<code>WebGL</code>相关限制，天空盒贴图的大小必须为2的n次幂，比如：1024×1024、4096×4096。</p></div> <p><strong>参数列表：</strong></p> <p><em>options&lt;object&gt;</em></p> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td><strong>textures&lt;Array&lt;HTMLImageElement&gt;&gt;</strong></td> <td>贴图数组，一共需要添加6张贴图，分别对应右、左、上、下、前、后</td></tr></tbody></table> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">addCover</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">textures</span><span class="token operator">:</span> <span class="token punctuation">[</span>right<span class="token punctuation">,</span> left<span class="token punctuation">,</span> top<span class="token punctuation">,</span> bottom<span class="token punctuation">,</span> front<span class="token punctuation">,</span> back<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="addmarker-options"><a href="#addmarker-options" class="header-anchor">#</a> <code>addMarker(options)</code></h3> <p>地图打点。</p> <p><strong>参数列表：</strong></p> <p><em>options&lt;object&gt;</em> 除<code>id</code>外，所有参数都是可选的。</p> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td><strong>id&lt;string&gt;</strong></td> <td>打点id</td></tr> <tr><td><strong>header&lt;{fragment: string, style: Object, scale: Stops}&gt;</strong></td> <td>打点头部的配置，<code>fragment</code>为<code>HTML</code>片段，<code>style</code>为<code>css</code>样式, <code>scale</code>为Stops数组</td></tr> <tr><td><strong>body&lt;{show: boolean, width: number, color: string}&gt;</strong></td> <td>打点中部的配置，<code>show</code>为是否显示 ，<code>width</code>为中部宽度，<code>color</code>为中部整体颜色</td></tr> <tr><td><strong>base&lt;{image: HTMLImageElement, size: Array&lt;number&gt;}&gt;</strong></td> <td>打点底部的配置，<code>image</code>为图片对象，<code>size</code>为图片大小</td></tr> <tr><td><strong>coord&lt;Array&lt;number&gt;&gt;</strong></td> <td>打点经纬度</td></tr> <tr><td><strong>altitude&lt;number&gt;</strong></td> <td>打点整体高度</td></tr> <tr><td><strong>onclick&lt;Function&gt;</strong></td> <td>点击事件</td></tr></tbody></table> <p><strong>默认值：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">header</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">fragment</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
      <span class="token literal-property property">scale</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;#FFF&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">base</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">image</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
      <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">coord</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">altitude</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token function-variable function">onclick</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回值：</strong></p> <p>打点唯一id。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">addMarker</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;markerTest&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">header</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">fragment</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
            &lt;p&gt;这是1号打点&lt;/p&gt;
            &lt;img src=&quot;../../debug/textures/icon.png&quot; /&gt;
        </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;#fff&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">display</span><span class="token operator">:</span> <span class="token string">&quot;flex&quot;</span><span class="token punctuation">,</span>
            <span class="token string-property property">&quot;flex-direction&quot;</span><span class="token operator">:</span> <span class="token string">&quot;column&quot;</span><span class="token punctuation">,</span>
            <span class="token string-property property">&quot;align-items&quot;</span><span class="token operator">:</span> <span class="token string">&quot;center&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;#FFB557&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">base</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">image</span><span class="token operator">:</span> texture<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">coord</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">120.20853164716578</span><span class="token punctuation">,</span> <span class="token number">30.25113591444385</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">altitude</span><span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">,</span>
    <span class="token function-variable function">onclick</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="removemarker-id"><a href="#removemarker-id" class="header-anchor">#</a> <code>removeMarker(id)</code></h3> <p>在地图上移除打点。</p> <p><strong>参数列表：</strong></p> <p><em>id&lt;string&gt;</em> 打点id。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">removeMarker</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="addpopup-options"><a href="#addpopup-options" class="header-anchor">#</a> <code>addPopup(options)</code></h3> <p>地图添加popup浮窗。</p> <p><strong>参数列表：</strong></p> <p><em>options&lt;object&gt;</em> 所有参数都是可选的。</p> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td><strong>content&lt;string&gt;</strong></td> <td>浮窗内容</td></tr> <tr><td><strong>style&lt;object&gt;</strong></td> <td>样式配置，css样式</td></tr> <tr><td><strong>scale&lt;Stops&gt;</strong></td> <td>缩放配置</td></tr> <tr><td><strong>coord&lt;Array&lt;number&gt;&gt;</strong></td> <td>浮窗经纬度</td></tr> <tr><td><strong>altitude&lt;number&gt;</strong></td> <td>浮窗整体高度</td></tr> <tr><td><strong>onclick&lt;Function&gt;</strong></td> <td>点击事件</td></tr></tbody></table> <p><strong>返回值：</strong></p> <p>浮窗唯一id。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">addPopup</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">coord</span><span class="token operator">:</span> <span class="token punctuation">[</span>lnglat<span class="token punctuation">.</span>lng<span class="token punctuation">,</span> lnglat<span class="token punctuation">.</span>lat<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">altitude</span><span class="token operator">:</span> <span class="token number">600</span><span class="token punctuation">,</span>
  <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">'asdasdasds'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">'100px'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token string">'100px'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token string">'#fff'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">onclick</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1111</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="removepopup-id"><a href="#removepopup-id" class="header-anchor">#</a> <code>removePopup(id)</code></h3> <p>地图移除popup浮窗。</p> <p><strong>参数列表：</strong></p> <p><em>id&lt;string&gt;</em> 浮窗唯一id。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">removePopup</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
</code></pre></div><h3 id="lightupbuilding-options"><a href="#lightupbuilding-options" class="header-anchor">#</a> <code>lightUpBuilding(options)</code></h3> <p>点亮建筑。</p> <p><strong>参数列表：</strong></p> <p><em>options&lt;object&gt;</em> 所有配置项都是可选的</p> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td><strong>coord&lt;Array&lt;number&gt;&gt;</strong> default: [0, 0]</td> <td>建筑所处的经纬度</td></tr> <tr><td><strong>raduis&lt;number&gt;</strong> default: 0.000006</td> <td>点亮半径</td></tr> <tr><td><strong>color&lt;string&gt;</strong> default: 'yellow'</td> <td>点亮颜色</td></tr></tbody></table> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">lightUpBuilding</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">coord</span><span class="token operator">:</span> <span class="token punctuation">[</span>lng<span class="token punctuation">,</span> lat<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'yellow'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="setflotsam-options"><a href="#setflotsam-options" class="header-anchor">#</a> <code>setFlotsam(options)</code></h3> <p>设置漂浮物。</p> <p><strong>参数列表：</strong></p> <p><em>options&lt;object&gt;</em> 除<code>texture</code>外，所有配置项都是可选的</p> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td><strong>coord&lt;Array&lt;number&gt;&gt;</strong> default: [0, 0]</td> <td>漂浮物区域中心经纬度</td></tr> <tr><td><strong>texture&lt;HTMLImageElement&gt;</strong></td> <td>漂浮物贴图</td></tr> <tr><td><strong>altitude&lt;number&gt;</strong> default: 5000</td> <td>漂浮物开始发射的高度，单位 米</td></tr> <tr><td><strong>raduis&lt;number&gt;</strong> default: 0.0002</td> <td>漂浮物开始发射的半径</td></tr> <tr><td><strong>deathAge&lt;number&gt;</strong> default: 10</td> <td>漂浮物从开始到消失的时间</td></tr> <tr><td><strong>perSecond&lt;number&gt;</strong> default: 200</td> <td>每秒钟发射漂浮物的个数</td></tr> <tr><td><strong>sizeRange&lt;Array&lt;number&gt;&gt;</strong> default: [10, 30]</td> <td>漂浮物的的大小范围</td></tr></tbody></table> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">setFlotsam</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">coord</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">120.20853164716578</span><span class="token punctuation">,</span> <span class="token number">30.25113591444385</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">texture</span><span class="token operator">:</span> snow<span class="token punctuation">,</span>
    <span class="token literal-property property">altitude</span><span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">,</span>
    <span class="token literal-property property">raduis</span><span class="token operator">:</span> <span class="token number">0.0002</span><span class="token punctuation">,</span>
    <span class="token literal-property property">deathAge</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token literal-property property">perSecond</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token literal-property property">sizeRange</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="focus-options-callback"><a href="#focus-options-callback" class="header-anchor">#</a> <code>focus(options, callback)</code></h3> <p>让地图聚焦某处。</p> <p><strong>参数列表：</strong></p> <p><em>options&lt;object&gt;</em> 所有配置项都是可选的</p> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td><strong>center&lt;Array&lt;number&gt;&gt;</strong> default: [0, 0]</td> <td>聚焦中心经纬度</td></tr> <tr><td><strong>zoom&lt;number&gt;</strong> default: 18</td> <td>聚焦时地图的缩放值</td></tr> <tr><td><strong>pitch&lt;number&gt;</strong> default: 47</td> <td>聚焦时地图的俯仰角</td></tr> <tr><td><strong>rotation&lt;boolean&gt;</strong> default: true</td> <td>聚焦时相机是否要旋转</td></tr> <tr><td><strong>lightOptions&lt;{enable: boolean, height: number, duration: number}&gt;</strong> default: {enable: true, duration: 300, height: 60}</td> <td>聚焦时的聚光灯效果设置</td></tr></tbody></table> <p><em>callback&lt;Function&gt;</em> 聚焦动画结束后的回调函数</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code> map<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
      <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token punctuation">[</span>lng<span class="token punctuation">,</span> lat<span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">15.5</span><span class="token punctuation">,</span>
      <span class="token literal-property property">pitch</span><span class="token operator">:</span> <span class="token number">47</span><span class="token punctuation">,</span>
      <span class="token literal-property property">lightOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">70</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'聚焦结束'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="addflyline-options"><a href="#addflyline-options" class="header-anchor">#</a> <code>addFlyLine(options)</code></h3> <p>在地图中添加飞线</p> <p><strong>参数列表：</strong></p> <p><em>options&lt;object&gt;</em> 所有配置项都是可选的</p> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td><strong>src&lt;Array&lt;number&gt;&gt;</strong> default: [0, 0]</td> <td>飞线起点经纬度</td></tr> <tr><td><strong>dest&lt;Array&lt;number&gt;&gt;</strong> default: [0, 0]</td> <td>飞线终点经纬度</td></tr> <tr><td><strong>lineColor&lt;string&gt;</strong> default: '#FB5431'</td> <td>飞线颜色</td></tr> <tr><td><strong>backgroundColor&lt;string&gt;</strong> default: '#FB5431'</td> <td>飞线背景线颜色</td></tr> <tr><td><strong>backgroundOpacity&lt;number&gt;</strong> default: 0.5</td> <td>飞线背景线透明度</td></tr> <tr><td><strong>size&lt;number&gt;</strong> default: 5</td> <td>飞线大小</td></tr> <tr><td><strong>points&lt;number&gt;</strong> default: 1000</td> <td>飞线细分数</td></tr> <tr><td><strong>altitude&lt;number&gt;</strong> default: 400000</td> <td>飞线高度，单位 米</td></tr></tbody></table> <p><strong>返回值：</strong></p> <p>飞线的唯一id。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code> map<span class="token punctuation">.</span><span class="token function">addFlyLine</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">src</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">79.493023</span><span class="token punctuation">,</span> <span class="token number">36.471726</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">dest</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">120.20853164716578</span><span class="token punctuation">,</span> <span class="token number">30.25113591444385</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">lineColor</span><span class="token operator">:</span> <span class="token string">&quot;#FB5431&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">backgroundColor</span><span class="token operator">:</span> <span class="token string">&quot;#FB5431&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">backgroundOpacity</span><span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
    <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token literal-property property">altitude</span><span class="token operator">:</span> <span class="token number">6000000</span><span class="token punctuation">,</span>
    <span class="token literal-property property">points</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="removeflyline-id"><a href="#removeflyline-id" class="header-anchor">#</a> <code>removeFlyLine(id)</code></h3> <p>在地图中移除飞线</p> <p><strong>参数列表：</strong></p> <p><em>id&lt;string&gt;</em> 飞线的唯一id</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code> map<span class="token punctuation">.</span><span class="token function">removeFlyLine</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="setdof-options"><a href="#setdof-options" class="header-anchor">#</a> <code>setDOF(options)</code></h3> <p>在地图中设置景深。</p> <p><strong>参数列表：</strong></p> <p><em>options&lt;object&gt;</em> 所有配置项都是可选的</p> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td><strong>enable&lt;boolean&gt;</strong> default: false</td> <td>是否开启</td></tr> <tr><td><strong>blurRadius&lt;number&gt;</strong> default: 7</td> <td>模糊半径</td></tr> <tr><td><strong>near&lt;number&gt;</strong> default: 0.45</td> <td>近视点</td></tr> <tr><td><strong>nearRange&lt;number&gt;</strong> default: 0.15</td> <td>近视范围</td></tr> <tr><td><strong>far&lt;number&gt;</strong> default: 0.6</td> <td>远视点</td></tr> <tr><td><strong>farRange&lt;number&gt;</strong> default: 0.1</td> <td>远视范围</td></tr></tbody></table> <p>关于参数的解释：</p> <p>从相机位置，到离相机最远的点，距离为1。也就是说，完全模糊区域（近） + 近视范围 + 聚焦区域 + 远视范围 + 完全模糊区域（远） = 1</p> <p>各个参数的示意图如下：</p> <img src="/map-doc/assets/img/dof.8a95cd13.png"> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code> map<span class="token punctuation">.</span><span class="token function">setDOF</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">blurRadius</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
    <span class="token literal-property property">near</span><span class="token operator">:</span> <span class="token number">0.42</span><span class="token punctuation">,</span>
    <span class="token literal-property property">nearRange</span><span class="token operator">:</span> <span class="token number">0.17</span><span class="token punctuation">,</span>
    <span class="token literal-property property">far</span><span class="token operator">:</span> <span class="token number">0.59</span><span class="token punctuation">,</span>
    <span class="token literal-property property">farRange</span><span class="token operator">:</span> <span class="token number">0.1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="addstreamer-geojson-options"><a href="#addstreamer-geojson-options" class="header-anchor">#</a> <code>addStreamer(geojson, options)</code></h3> <p>在地图中添加地面流光。</p> <p><strong>参数列表：</strong></p> <p><em>geojson&lt;geojson&gt;</em> 需要添加流光的地理线条，其类型必须为<code>MultiLineString</code>，格式如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;FeatureCollection&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xxxx&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;crs&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;properties&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;features&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Feature&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;properties&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;geometry&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MultiLineString&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;coordinates&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">[</span>
              <span class="token punctuation">[</span><span class="token number">119.857096</span><span class="token punctuation">,</span> <span class="token number">30.259975</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">[</span><span class="token number">119.853097</span><span class="token punctuation">,</span> <span class="token number">30.259962</span><span class="token punctuation">]</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span>
              <span class="token punctuation">[</span><span class="token number">119.857365</span><span class="token punctuation">,</span> <span class="token number">30.259774</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">[</span><span class="token number">119.857187</span><span class="token punctuation">,</span> <span class="token number">30.259771</span><span class="token punctuation">]</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><em>options&lt;object&gt;</em> 所有配置项都是可选的</p> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td><strong>lineWidth&lt;number&gt;</strong> default: 1</td> <td>流光线条宽度，如需线宽1以上，必须配置<code>fatLine: true</code></td></tr> <tr><td><strong>length&lt;number&gt;</strong> default: 0.3</td> <td>流光线段占总线长百分比</td></tr> <tr><td><strong>minLength&lt;number&gt;</strong> default: 0</td> <td>该线条长度以下的线条不展示流光效果，单位：米</td></tr> <tr><td><strong>lineColor&lt;color&gt;</strong> default: &quot;#fff&quot;</td> <td>流光线条颜色</td></tr> <tr><td><strong>blurRadius&lt;number&gt;</strong> default: 10</td> <td>流光发光半径</td></tr> <tr><td><strong>blurStrength&lt;number&gt;</strong> default: 3</td> <td>流光发光强度</td></tr> <tr><td><strong>fatLine&lt;boolean&gt;</strong> default: false</td> <td>是否启用线宽大于1的线条</td></tr></tbody></table> <p><strong>返回值：</strong></p> <p>流光特效唯一id。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">addStreamerLayer</span><span class="token punctuation">(</span>geojson<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">lineColor</span><span class="token operator">:</span> <span class="token string">'#FFF'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">blurRadius</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  <span class="token literal-property property">blurStrength</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
  <span class="token literal-property property">minLength</span><span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="removestreamer-id"><a href="#removestreamer-id" class="header-anchor">#</a> <code>removeStreamer(id)</code></h3> <p>在地图中移除地面流光。</p> <p><strong>参数列表：</strong></p> <p><em>id&lt;string&gt;</em> 流光特效唯一id。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">removeStreamer</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="add3dmodel-obj-options"><a href="#add3dmodel-obj-options" class="header-anchor">#</a> <code>add3DModel(obj, options)</code></h3> <p>在地图中添加3D模型。</p> <p><strong>参数列表：</strong></p> <p><em>obj&lt;obj&gt;</em> 通过<code>loadObj</code>公共方法导入模型后，返回的obj对象</p> <p><em>options&lt;object&gt;</em> 所有配置项都是可选的</p> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td><strong>texture&lt;HTMLImageElement&gt;</strong> default: null</td> <td>模型的贴图</td></tr> <tr><td><strong>color&lt;string&gt;</strong> default: &quot;#fff&quot;</td> <td>模型的颜色，当配置<code>texture</code>属性后，该属性无效</td></tr> <tr><td><strong>rotation&lt;Array&lt;{axis: string, angle: number}&gt;&gt;</strong> default: []</td> <td>模型旋转信息数组, <code>axis</code>为需要绕哪个坐标轴旋转，可选值:<code>&quot;x&quot;</code>, <code>&quot;y&quot;</code>, <code>&quot;z&quot;</code>；<code>angle</code>为需要旋转的角度</td></tr> <tr><td><strong>scale&lt;number&gt;</strong> default: 1</td> <td>模型缩放数值</td></tr> <tr><td><strong>coord&lt;Array&lt;number&gt;&gt;</strong> default: [0, 0]</td> <td>模型所在经纬度</td></tr> <tr><td><strong>altitude&lt;number&gt;</strong> default: 0</td> <td>模型所在海拔高度</td></tr> <tr><td><strong>animate&lt;Function&gt;</strong> default: (delta, obj) =&gt; {}</td> <td>每帧渲染时会执行的函数，传递参数：帧间隔时间，单位ms；3D模型对象</td></tr></tbody></table> <p><strong>返回值：</strong></p> <p>模型唯一id。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> car <span class="token operator">=</span> <span class="token keyword">await</span> arkmap<span class="token punctuation">.</span><span class="token function">loadObj</span><span class="token punctuation">(</span><span class="token string">&quot;car.obj&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> pm <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">add3DModel</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;#fff&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">rotation</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">axis</span><span class="token operator">:</span> <span class="token string">&quot;x&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">angle</span><span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">axis</span><span class="token operator">:</span> <span class="token string">&quot;y&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">angle</span><span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">scale</span><span class="token operator">:</span> <span class="token number">0.000001</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="remove3dmodel-id"><a href="#remove3dmodel-id" class="header-anchor">#</a> <code>remove3DModel(id)</code></h3> <p>在地图中移除3D模型。</p> <p><strong>参数列表：</strong></p> <p><em>id&lt;string&gt;</em> 要移除的模型的id</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">remove3DModel</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="容器"><a href="#容器" class="header-anchor">#</a> 容器</h2> <h3 id="getcontianer"><a href="#getcontianer" class="header-anchor">#</a> <code>getContianer()</code></h3> <p>返回地图的HTML元素。</p> <p><strong>返回值：</strong></p> <p>HTMLElement。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> container <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getContainer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="getcanvascontianer"><a href="#getcanvascontianer" class="header-anchor">#</a> <code>getCanvasContianer()</code></h3> <p>返回包含地图的&lt;canvas&gt;元素的HTML元素。</p> <p><strong>返回值：</strong></p> <p>HTMLElement。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> canvasContainer <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getCanvasContainer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="getcanvas"><a href="#getcanvas" class="header-anchor">#</a> <code>getCanvas()</code></h3> <p>返回地图的&lt;canvas&gt;元素。</p> <p><strong>返回值：</strong></p> <p>HTMLElement。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> canvas <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getCanvas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="约束"><a href="#约束" class="header-anchor">#</a> 约束</h2> <h3 id="resize-eventdata"><a href="#resize-eventdata" class="header-anchor">#</a> <code>resize(eventData)()</code></h3> <p>检查地图容器的大小是否发生了变化，如果发生了变化，则更新地图。此方法必须在地图的容器以编程方式调整大小之后调用，或者在CSS样式变化后调用。</p> <p><strong>参数列表：</strong></p> <p><em>eventData&lt;object&gt;</em>: 传递给<code>movestart</code>、<code>move</code>、<code>resize</code>、<code>moveend</code>事件的事件对象。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> mapDiv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'map'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>mapDiv<span class="token punctuation">.</span>style<span class="token punctuation">.</span>visibility <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">)</span> map<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="getbounds"><a href="#getbounds" class="header-anchor">#</a> <code>getBounds()</code></h3> <p>返回地图的地理边界。</p> <p><strong>返回值：</strong></p> <p>地图的地理边界, 类型为<a href="/map-doc/api-reference/common-class.html#lnglatbounds">LngLatBounds</a>。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> bounds <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getBounds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="getmaxbounds"><a href="#getmaxbounds" class="header-anchor">#</a> <code>getMaxBounds()</code></h3> <p>返回地图约束到的最大地理边界，如果未设置，则返回<code>null</code>。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> maxBounds <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getMaxBounds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="setmaxbounds-bounds"><a href="#setmaxbounds-bounds" class="header-anchor">#</a> <code>setMaxBounds(bounds)</code></h3> <p>设置或清除地图的地理边界。平移和缩放操作限制在这些范围内。</p> <p><strong>参数列表：</strong></p> <p><em>bounds&lt;<a href="/map-doc/api-reference/common-class.html#lnglatboundslike">LngLatBoundsLike</a> | null | undefined&gt;</em>: 要设置的最大界限。如果提供<code>null</code>或<code>undefined</code>，则该函数将删除地图的最大界限。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> bounds <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">74.04728</span><span class="token punctuation">,</span> <span class="token number">40.68392</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// [west, south]</span>
  <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">73.91058</span><span class="token punctuation">,</span> <span class="token number">40.87764</span><span class="token punctuation">]</span>  <span class="token comment">// [east, north]</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">setMaxBounds</span><span class="token punctuation">(</span>bounds<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="setminzoom-minzoom"><a href="#setminzoom-minzoom" class="header-anchor">#</a> <code>setMinZoom(minZoom)</code></h3> <p>设置或清除地图的最小缩放级别。如果地图的当前缩放级别低于新的最小值，则地图将缩放到新的最小值。</p> <p><strong>参数列表：</strong></p> <p><em>minZoom&lt;number | null | undefined&gt;</em>: 要设置的最小缩放级别（-2~24）。如果提供<code>null</code>或<code>undefined</code>，该函数将删除当前最小缩放，并将其重置为-2。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">setMinZoom</span><span class="token punctuation">(</span><span class="token number">12.25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="getminzoom"><a href="#getminzoom" class="header-anchor">#</a> <code>getMinZoom()</code></h3> <p>获取地图的最小缩放级别。</p> <p><strong>返回值：</strong></p> <p>minZoom&lt;number&gt;</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> minZoom <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getMinZoom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="setmaxzoom-maxzoom"><a href="#setmaxzoom-maxzoom" class="header-anchor">#</a> <code>setMaxZoom(maxZoom)</code></h3> <p>设置或清除地图的最大缩放级别。如果地图的当前缩放级别高于新的最大值，则地图将缩放到新的最大值。</p> <p><strong>参数列表：</strong></p> <p><em>maxZoom&lt;number | null | undefined&gt;</em>: 要设置的最大缩放级别。如果提供<code>null</code>或<code>undefined</code>，该函数将删除当前最大缩放，并将其重置为22。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">setMaxZoom</span><span class="token punctuation">(</span><span class="token number">18.75</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="getmaxzoom"><a href="#getmaxzoom" class="header-anchor">#</a> <code>getMaxZoom()</code></h3> <p>获取地图的最大缩放级别。</p> <p><strong>返回值：</strong></p> <p>maxZoom&lt;number&gt;</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> maxZoom <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getMaxZoom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="setminpitch-minpitch"><a href="#setminpitch-minpitch" class="header-anchor">#</a> <code>setMinPitch(minPitch)</code></h3> <p>设置或清除地图的最小俯仰角。如果地图的当前俯仰角低于新的最小值，地图将俯仰角调整到新的最小值。</p> <p><strong>参数列表：</strong></p> <p><em>minPitch&lt;number | null | undefined&gt;</em>: 要设置的最小俯仰角（0~85）。如果提供<code>null</code>或<code>undefined</code>，该函数将删除当前最小俯仰角，并将其重置为0。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">setMinPitch</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="getminpitch"><a href="#getminpitch" class="header-anchor">#</a> <code>getMinPitch()</code></h3> <p>获取地图的最小俯仰角。</p> <p><strong>返回值：</strong></p> <p>minPitch&lt;number&gt;</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> minPitch <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getMinPitch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="setmaxpitch-maxpitch"><a href="#setmaxpitch-maxpitch" class="header-anchor">#</a> <code>setMaxPitch(maxPitch)</code></h3> <p>设置或清除地图的最大俯仰角。如果地图的当前俯仰角高于新的最大值，地图将俯仰角调整到新的最大值。</p> <p><strong>参数列表：</strong></p> <p><em>maxPitch&lt;number | null | undefined&gt;</em>: 要设置的最大俯仰角（0~85）。如果提供<code>null</code>或<code>undefined</code>，该函数将删除当前最大俯仰角，并将其重置为85。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">setMaxPitch</span><span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="getmaxpitch"><a href="#getmaxpitch" class="header-anchor">#</a> <code>getMaxPitch()</code></h3> <p>获取地图的最大俯仰角。</p> <p><strong>返回值：</strong></p> <p>maxPitch&lt;number&gt;</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> maxPitch <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getMaxPitch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="getrenderworldcopies"><a href="#getrenderworldcopies" class="header-anchor">#</a> <code>getRenderWorldCopies()</code></h3> <p>返回<code>renderWorldCopies</code>的状态。如果为true，则经度 -180和180度以外的地方将并排呈现多个世界地图的拷贝。如果为false，</p> <ul><li>当地图缩小到单一一个世界地图不能填满地图的整个容器时，那么当经度超过180和-180的区域就会出现空白。</li> <li>在每个缩放级别，跨越180和-180经度的要素(feature)将被切成两部分（一部分在地图的右边缘，另一部分在地图的左边缘）。</li></ul> <p><strong>返回值：</strong></p> <p>renderWorldCopies&lt;boolean&gt;</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> worldCopiesRendered <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getRenderWorldCopies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="setrenderworldcopies-renderworldcopies"><a href="#setrenderworldcopies-renderworldcopies" class="header-anchor">#</a> <code>setRenderWorldCopies(renderWorldCopies)</code></h3> <p>设置<code>renderWorldCopies</code>的状态。</p> <p><strong>参数列表：</strong></p> <p><em>renderWorldCopies&lt;boolean&gt;</em>: 详情见<code>getRenderWorldCopies</code></p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">setRenderWorldCopies</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="投影"><a href="#投影" class="header-anchor">#</a> 投影</h2> <h3 id="getprojection"><a href="#getprojection" class="header-anchor">#</a> <code>getProjection()</code></h3> <p>返回当前地图的投影对象。</p> <p><strong>返回值：</strong></p> <p>ProjectionSpecification&lt;object&gt;: 当前地图的投影对象。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> projection <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getProjection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="setprojection-projection"><a href="#setprojection-projection" class="header-anchor">#</a> <code>setProjection(projection)</code></h3> <p>设置地图的投影。如果使用<code>null</code>或<code>undefined</code>，投影将重置为Mercator。</p> <p><strong>参数列表：</strong></p> <p><em>Projection&lt;ProjectionSpecification | null | string | undefined&gt;</em>: 投影对象</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">setProjection</span><span class="token punctuation">(</span><span class="token string">'albers'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">setProjection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'albers'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">parallels</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="project-lnglat"><a href="#project-lnglat" class="header-anchor">#</a> <code>project(lnglat)</code></h3> <p>返回一个点，该点表示与指定地理位置相对应的相对于地图容器的像素坐标。</p> <p>当地图倾斜并且lnglat完全位于摄像机后面时，没有对应于该位置的像素坐标。在这种情况下，返回点的x和y分量设置为<code>Number.MAX_VALUE.</code>。</p> <p><strong>参数列表：</strong></p> <p><em>lnglat&lt;<a href="/map-doc/api-reference/common-class.html#lnglatlike">LngLatLike</a>&gt;</em>: 地理坐标（经纬度）</p> <p><strong>返回值：</strong></p> <p>Point&lt;<a href="/map-doc/api-reference/common-class.html#point">Point</a>&gt; 与lnglat相对应的点，相对于地图的容器。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> coordinate <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">122.420679</span><span class="token punctuation">,</span> <span class="token number">37.772537</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> point <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">project</span><span class="token punctuation">(</span>coordinate<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="unproject-point"><a href="#unproject-point" class="header-anchor">#</a> <code>unproject(point)</code></h3> <p>返回表示与指定像素坐标相对应的地理坐标的<a href="/map-doc/api-reference/common-class.html#lnglat">LngLat</a>。如果地平线可见，并且指定的像素位于地平线之上，则返回与地平线上最接近该点的点对应的<a href="/map-doc/api-reference/common-class.html#lnglat">LngLat</a>。</p> <p><strong>参数列表：</strong></p> <p><em>point&lt;<a href="/map-doc/api-reference/common-class.html#pointlike">PointLike</a>&gt;</em>: 地理坐标（经纬度）</p> <p><strong>返回值：</strong></p> <p>LngLat&lt;<a href="/map-doc/api-reference/common-class.html#lnglat">LngLat</a>&gt; 与point相对应的地理坐标。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> coordinate <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">unproject</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>point<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="移动"><a href="#移动" class="header-anchor">#</a> 移动</h2> <h3 id="ismoving"><a href="#ismoving" class="header-anchor">#</a> <code>isMoving()</code></h3> <p>地图正在平移、缩放、旋转或改变俯仰角，返回true。</p> <p><strong>返回值：</strong></p> <p>地图是否在移动。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> isMoving <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">isMoving</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="iszooming"><a href="#iszooming" class="header-anchor">#</a> <code>isZooming()</code></h3> <p>地图缩放时，返回true。</p> <p><strong>返回值：</strong></p> <p>地图是否在缩放。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> isZooming <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">isZooming</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="isrotating"><a href="#isrotating" class="header-anchor">#</a> <code>isRotating()</code></h3> <p>地图旋转时，返回true。</p> <p><strong>返回值：</strong></p> <p>地图是否在旋转。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">isRotating</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="事件"><a href="#事件" class="header-anchor">#</a> 事件</h2> <h3 id="on-type-layerids-listener"><a href="#on-type-layerids-listener" class="header-anchor">#</a> <code>on(type, layerIds, listener)</code></h3> <p>为指定类型的事件添加侦听器，也可以选择监听特定图层的事件。</p> <p><strong>参数列表：</strong></p> <p><em>type&lt;string&gt;</em>: 详见<a href="/map-doc/api-reference/events.html">事件章节</a>。</p> <p><em>layerIds&lt;string | Array&lt;string&gt;&gt;</em>: (可选)样式层的 ID。如果不提供 layerID，侦听器将由地图上任何地方发生的相应事件触发。</p> <p><em>listener&lt;Function&gt;</em>: 监听函数。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'countries'</span><span class="token punctuation">,</span> <span class="token string">'background'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="once-type-layerids-listener"><a href="#once-type-layerids-listener" class="header-anchor">#</a> <code>once(type, layerIds, listener)</code></h3> <p>用法和<code>on</code>类似，但是只会触发一次。</p> <p><strong>参数列表：</strong></p> <p><em>type&lt;string&gt;</em>: 详见<a href="/map-doc/api-reference/events.html">事件章节</a>。</p> <p><em>layerIds&lt;string | Array&lt;string&gt;&gt;</em>: (可选)样式层的 ID。如果不提供 layerID，侦听器将由地图上任何地方发生的相应事件触发。</p> <p><em>listener&lt;Function&gt;</em>: 监听函数。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">once</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'countries'</span><span class="token punctuation">,</span> <span class="token string">'background'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="off-type-layerids-listener"><a href="#off-type-layerids-listener" class="header-anchor">#</a> <code>off(type, layerIds, listener)</code></h3> <p>移除由<code>on</code>添加的事件</p> <p><strong>参数列表：</strong></p> <p><em>type&lt;string&gt;</em> 详见<a href="/map-doc/api-reference/events.html">事件章节</a>。</p> <p><em>layerIds&lt;string | Array&lt;string&gt;&gt;</em>: (可选)样式层的 ID。如果不提供 layerID，侦听器将由地图上任何地方发生的相应事件触发。</p> <p><em>listener&lt;Function&gt;</em>: 监听函数。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">onMove</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">The mouse is moving: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>e<span class="token punctuation">.</span>lngLat<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> onMove<span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> onMove<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="要素查询"><a href="#要素查询" class="header-anchor">#</a> 要素查询</h2> <h3 id="queryrenderedfeatures-geometry-options"><a href="#queryrenderedfeatures-geometry-options" class="header-anchor">#</a> <code>queryRenderedFeatures(geometry?, options?)</code></h3> <p>返回表示满足查询参数的可见要素的GeoJSON要素对象数组。</p> <p><strong>参数列表：</strong></p> <p><em>geometry&lt;<a href="/map-doc/api-reference/common-class.html#pointlike">PointLike</a> | Array&lt;<a href="/map-doc/api-reference/common-class.html#pointlike">PointLike</a>&gt;&gt;</em> 查询区域的几何形状(以像素为单位) : 可以为一个点或左下和右上的点组成的一个边界框，其中原点在左上角。省略此参数相当于传递一个包含整个 Map 视口的边界框。只支持现有视图中的值。</p> <p><em>options&lt;object&gt;</em></p> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td><strong>filter&lt;Array&gt;?</strong></td> <td>限制查询结果的筛选器</td></tr> <tr><td><strong>layers&lt;Array&lt;string&gt;&gt;?</strong></td> <td>要检查的查询的样式层 ID 数组。只返回这些层中的要素。如果此参数未定义，则将检查所有层。</td></tr></tbody></table> <p><strong>返回值：</strong></p> <p>Array&lt;object&gt; GeoJSON要素对象数组。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 点查询</span>
<span class="token keyword">const</span> features <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">queryRenderedFeatures</span><span class="token punctuation">(</span>
  <span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'my-layer-name'</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 区域查询</span>
<span class="token keyword">const</span> features <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">queryRenderedFeatures</span><span class="token punctuation">(</span>
  <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'my-layer-name'</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 全局（可视区域）查询</span>
<span class="token keyword">const</span> features <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">queryRenderedFeatures</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'my-layer-name'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="querysourcefeatures-sourceid-parameters"><a href="#querysourcefeatures-sourceid-parameters" class="header-anchor">#</a> <code>querySourceFeatures(sourceId, parameters)</code></h3> <p>返回一个 GeoJSON Feature 对象数组，这些对象表示指定矢量瓦片或指定 GeoJSON 源中满足查询参数的要素。</p> <p><strong>参数列表：</strong></p> <p><em>sourceId&lt;string&gt;</em> 要查询的矢量瓦片或GeoJSON源的ID。</p> <p><em>parameters&lt;object&gt;</em></p> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td><strong>filter&lt;Array&gt;?</strong></td> <td>限制查询结果的筛选器</td></tr> <tr><td><strong>sourceLayer&lt;string&gt;?</strong></td> <td>要检查的查询的样式层 ID 数组。只返回这些层中的要素。如果此参数未定义，则将检查所有层。</td></tr></tbody></table> <p><strong>返回值：</strong></p> <p>Array&lt;object&gt; GeoJSON要素对象数组。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> features <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">querySourceFeatures</span><span class="token punctuation">(</span><span class="token string">'your-source-id'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">sourceLayer</span><span class="token operator">:</span> <span class="token string">'your-source-layer'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="样式"><a href="#样式" class="header-anchor">#</a> 样式</h2> <h3 id="setstyle-style-options"><a href="#setstyle-style-options" class="header-anchor">#</a> <code>setStyle(style, options?)</code></h3> <p>用新值更新地图的样式对象。</p> <p>如果在使用时已经设置了一个样式，并且 diff 选项被设置为 true，那么地图渲染器将尝试将给定的样式与地图的当前状态进行比较，并且只执行必要的更改以使地图样式匹配所需的状态。精灵(用于图标和模式的图像)和象形文字(用于标签文本的字体)的变化是无法区分的。如果当前样式和给定样式中使用的精灵或字体有任何不同，地图渲染器将强制执行完整更新，删除当前样式并从头开始构建给定样式。</p> <p><strong>参数列表：</strong></p> <p><em>style&lt;object | string | null&gt;</em>: 详见<a href="/map-doc/style-specification/">样式规范</a></p> <p><em>options&lt;object&gt;</em></p> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td><strong>diff&lt;boolean&gt;</strong> default: <code>true</code></td> <td>如果为 false，则强制执行“完整”更新，删除当前样式并构建给定样式，而不是尝试基于 diff 的更新。</td></tr> <tr><td><strong>localIdeographFontFamily&lt;string&gt;</strong> default: <code>sans-serif</code></td> <td>定义一个字体族</td></tr></tbody></table> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="getstyle"><a href="#getstyle" class="header-anchor">#</a> <code>getStyle()</code></h3> <p>返回地图的样式对象，这是一个JSON对象，可用于重新创建地图的样式。</p> <p><strong>返回值：</strong></p> <p>样式对象</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'map.ready'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> styleJson <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="isstyleloaded"><a href="#isstyleloaded" class="header-anchor">#</a> <code>isStyleLoaded()</code></h3> <p>返回一个布尔值，指示地图的样式是否已完全加载。</p> <p><strong>返回值：</strong></p> <p>指示样式是否已完全加载的布尔值。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> styleLoadStatus <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">isStyleLoaded</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="源"><a href="#源" class="header-anchor">#</a> 源</h2> <h3 id="addsource"><a href="#addsource" class="header-anchor">#</a> <code>addSource()</code></h3> <p>将源添加到地图样式。</p> <p><strong>参数列表：</strong></p> <p><em>id&lt;string&gt;</em>: 要添加的源的 ID，不能与现有源冲突。</p> <p><em>source&lt;object&gt;</em>: 源对象。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">addSource</span><span class="token punctuation">(</span><span class="token string">'my-data'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;geojson&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Feature&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;geometry&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Point&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;coordinates&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">77.0323</span><span class="token punctuation">,</span> <span class="token number">38.9131</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;properties&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;title&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="issourceloaded"><a href="#issourceloaded" class="header-anchor">#</a> <code>isSourceLoaded()</code></h3> <p>返回一个布尔值，指示是否加载源。</p> <p><strong>参数列表：</strong></p> <p><em>id&lt;string&gt;</em>: 源ID</p> <p><strong>返回值：</strong></p> <p>指示是否加载源的布尔值。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> sourceLoaded <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">isSourceLoaded</span><span class="token punctuation">(</span><span class="token string">'bathymetry-data'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="aretilesloaded"><a href="#aretilesloaded" class="header-anchor">#</a> <code>areTilesLoaded()</code></h3> <p>返回一个布尔值，指示是否加载视口中的来自样式上所有源的所有瓦片。</p> <p><strong>返回值：</strong></p> <p>一个布尔值，指示是否加载了所有瓦片。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> tilesLoaded <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">areTilesLoaded</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="removesource"><a href="#removesource" class="header-anchor">#</a> <code>removeSource()</code></h3> <p>从地图样式中删除源。</p> <p><strong>参数列表：</strong></p> <p><em>id&lt;string&gt;</em>: 源ID</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">removeSource</span><span class="token punctuation">(</span><span class="token string">'bathymetry-data'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="getsource-id"><a href="#getsource-id" class="header-anchor">#</a> <code>getSource(id)</code></h3> <p>返回具有地图样式中指定ID的源。</p> <p><strong>参数列表：</strong></p> <p><em>id&lt;string&gt;</em>: 源ID</p> <p><strong>返回值：</strong></p> <p>源对象。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> sourceObject <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getSource</span><span class="token punctuation">(</span><span class="token string">'points'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="图片"><a href="#图片" class="header-anchor">#</a> 图片</h2> <h3 id="addimage-id-image"><a href="#addimage-id-image" class="header-anchor">#</a> <code>addimage(id, image)</code></h3> <p>向样式中添加图像。用于向样式对象中添加带有图标图像、背景图案、填充图案或线条图案的<code>layer.paint</code>属性。</p> <p><strong>参数列表：</strong></p> <p><em>id&lt;string&gt;</em>: 图像id。</p> <p><em>image&lt;HTMLImageElement&gt;</em>: HTML图片对象。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;cat.png&quot;</span><span class="token punctuation">;</span>

img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  map<span class="token punctuation">.</span><span class="token function">addImge</span><span class="token punctuation">(</span><span class="token string">'cat'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="updateimage-id-image"><a href="#updateimage-id-image" class="header-anchor">#</a> <code>updateImage(id, image)</code></h3> <p>更新样式中的现有图像。</p> <p><strong>参数列表：</strong></p> <p><em>id&lt;string&gt;</em>: 图像id。</p> <p><em>image&lt;HTMLImageElement&gt;</em>: HTML图片对象。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;dog.png&quot;</span><span class="token punctuation">;</span>

img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">hasImage</span><span class="token punctuation">(</span><span class="token string">'cat'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> map<span class="token punctuation">.</span><span class="token function">updateImage</span><span class="token punctuation">(</span><span class="token string">'cat'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="hasimage-id"><a href="#hasimage-id" class="header-anchor">#</a> <code>hasImage(id)</code></h3> <p>检查样式中是否含有指定id的图像。</p> <p><strong>参数列表：</strong></p> <p><em>id&lt;string&gt;</em>: 图像id。</p> <p><strong>返回值：</strong></p> <p>指示图像是否存在的布尔值。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> catIconExists <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">hasImage</span><span class="token punctuation">(</span><span class="token string">'cat'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="removeimage-id"><a href="#removeimage-id" class="header-anchor">#</a> <code>removeImage(id)</code></h3> <p>移除样式中指定id的图像。</p> <p><strong>参数列表：</strong></p> <p><em>id&lt;string&gt;</em>: 图像id。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">hasImage</span><span class="token punctuation">(</span><span class="token string">'cat'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> map<span class="token punctuation">.</span><span class="token function">removeImage</span><span class="token punctuation">(</span><span class="token string">'cat'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="loadimage-url-callback"><a href="#loadimage-url-callback" class="header-anchor">#</a> <code>loadImage(url, callback)</code></h3> <p>从外部URL加载图像，可以与<code>map.addImage</code>一起使用。外部域必须支持CORS。</p> <p><strong>参数列表：</strong></p> <p><em>url&lt;string&gt;</em>: 图像url。</p> <p><em>callback&lt;Function&gt;</em>: 在加载图像时调用，<code>callback(error, data)</code></p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">loadImage</span><span class="token punctuation">(</span><span class="token string">'/a-pic-url'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> image</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">throw</span> error<span class="token punctuation">;</span>
  map<span class="token punctuation">.</span><span class="token function">addImage</span><span class="token punctuation">(</span><span class="token string">'kitten'</span><span class="token punctuation">,</span> image<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="listimages"><a href="#listimages" class="header-anchor">#</a> <code>listImages()</code></h3> <p>返回一个字符串数组，其中包含地图中当前可用的所有图像的ID。</p> <p><strong>返回值：</strong></p> <p>Array&lt;string&gt; 包含地图中当前可用的所有精灵/图像id的字符串数组。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> allImages <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">listImages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="图层"><a href="#图层" class="header-anchor">#</a> 图层</h2> <h3 id="addlayer-layer-beforeid"><a href="#addlayer-layer-beforeid" class="header-anchor">#</a> <code>addLayer(layer, beforeId?)</code></h3> <p>将样式图层添加到地图的样式中。</p> <p><strong>参数列表：</strong></p> <p><em>layer&lt;string&gt;</em>: 样式对象。详见<a href="/map-doc/style-specification/">样式规范</a>。</p> <p><em>beforeId&lt;string&gt;</em>: 现有图层的 ID，新图层将在此图层之前插入，从而使新图层显示在这个图层之下。如果没有指定这个参数，图层将被追加到图层数组的末尾，并在所有其他图层之上显示。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="movelayer-id-beforeid"><a href="#movelayer-id-beforeid" class="header-anchor">#</a> <code>moveLayer(id, beforeId?)</code></h3> <p>将图层移动到另一个图层之下。</p> <p><strong>参数列表：</strong></p> <p><em>id&lt;string&gt;</em>: 需要移动的图层id。</p> <p><em>beforeId&lt;string&gt;</em>: 现有图层的 ID，新图层将移到此图层之前，从而使新图层显示在这个图层之下。如果没有指定这个参数，图层将被移动到图层数组的末尾，并在所有其他图层之上显示。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">moveLayer</span><span class="token punctuation">(</span><span class="token string">'polygon'</span><span class="token punctuation">,</span> <span class="token string">'country-label'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="removelayer-id"><a href="#removelayer-id" class="header-anchor">#</a> <code>removeLayer(id)</code></h3> <p>移除图层。</p> <p><strong>参数列表：</strong></p> <p><em>id&lt;string&gt;</em>: 需要移除的图层id。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">getLayer</span><span class="token punctuation">(</span><span class="token string">'state-data'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> map<span class="token punctuation">.</span><span class="token function">removeLayer</span><span class="token punctuation">(</span><span class="token string">'state-data'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="getlayer-id"><a href="#getlayer-id" class="header-anchor">#</a> <code>getLayer(id)</code></h3> <p>返回地图样式中具有指定ID的图层。</p> <p><strong>参数列表：</strong></p> <p><em>id&lt;string&gt;</em>: 图层id。</p> <p><strong>返回值：</strong></p> <p>图层对象。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> stateDataLayer <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getLayer</span><span class="token punctuation">(</span><span class="token string">'state-data'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="setlayerzoomrange-layerid-minzoom-maxzoom"><a href="#setlayerzoomrange-layerid-minzoom-maxzoom" class="header-anchor">#</a> <code>setLayerZoomRange(layerId, minzoom, maxzoom)</code></h3> <p>设置指定样式层的缩放范围。</p> <p><strong>参数列表：</strong></p> <p><em>layerId&lt;string&gt;</em>: 图层id。</p> <p><em>minzoom&lt;number&gt;</em>: 最小缩放。</p> <p><em>maxzoom&lt;number&gt;</em>: 最大缩放。</p> <p><strong>返回值：</strong></p> <p>图层对象。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">setLayerZoomRange</span><span class="token punctuation">(</span><span class="token string">'my-layer'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="setfilter-layerid-filter"><a href="#setfilter-layerid-filter" class="header-anchor">#</a> <code>setFilter(layerId, filter)</code></h3> <p>为指定的样式层设置过滤器。要清除过滤器，请传递null或undefined作为第二个参数。</p> <p><strong>参数列表：</strong></p> <p><em>layerId&lt;string&gt;</em>: 图层id。</p> <p><em>filter&lt;Array | null | undefined&gt;</em>: 过滤器对象，详见<a href="/map-doc/style-specification/">样式规范</a>。</p> <p><strong>返回值：</strong></p> <p>图层对象。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">setFilter</span><span class="token punctuation">(</span><span class="token string">'my-layer'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'=='</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'get'</span><span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'motorway'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="getfilter-layerid"><a href="#getfilter-layerid" class="header-anchor">#</a> <code>getFilter(layerId)</code></h3> <p>返回应用于指定样式层的过滤器。</p> <p><strong>参数列表：</strong></p> <p><em>layerId&lt;string&gt;</em>: 图层id。</p> <p><strong>返回值：</strong></p> <p>过滤器数组。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> filter <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getFilter</span><span class="token punctuation">(</span><span class="token string">'myLayer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="setpaintproperty-layerid-name-value"><a href="#setpaintproperty-layerid-name-value" class="header-anchor">#</a> <code>setPaintProperty(layerId, name, value)</code></h3> <p>设置指定样式层中<code>paint</code>的属性值。</p> <p><strong>参数列表：</strong></p> <p><em>layerId&lt;string&gt;</em>: 图层id。</p> <p><em>name&lt;string&gt;</em>: 要设置的<code>paint</code>的名称。</p> <p><em>value&lt;any&gt;</em>: 要设置的<code>paint</code>的值。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">setPaintProperty</span><span class="token punctuation">(</span><span class="token string">'my-layer'</span><span class="token punctuation">,</span> <span class="token string">'fill-color'</span><span class="token punctuation">,</span> <span class="token string">'#faafee'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="getpaintproperty-layerid-name"><a href="#getpaintproperty-layerid-name" class="header-anchor">#</a> <code>getPaintProperty(layerId, name)</code></h3> <p>获取指定样式层中<code>paint</code>的属性值。</p> <p><strong>参数列表：</strong></p> <p><em>layerId&lt;string&gt;</em>: 图层id。</p> <p><em>name&lt;string&gt;</em>: 要获取的<code>paint</code>的名称。</p> <p><strong>返回值：</strong></p> <p><code>paint</code>属性值。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> paintProperty <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getPaintProperty</span><span class="token punctuation">(</span><span class="token string">'mySymbolLayer'</span><span class="token punctuation">,</span> <span class="token string">'icon-color'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="setlayoutproperty-layerid-name-value"><a href="#setlayoutproperty-layerid-name-value" class="header-anchor">#</a> <code>setLayoutProperty(layerId, name, value)</code></h3> <p>设置指定样式层中<code>layout</code>的属性值。</p> <p><strong>参数列表：</strong></p> <p><em>layerId&lt;string&gt;</em>: 图层id。</p> <p><em>name&lt;string&gt;</em>: 要设置的<code>layout</code>的名称。</p> <p><em>value&lt;any&gt;</em>: 要设置的<code>layout</code>的值。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">setLayoutProperty</span><span class="token punctuation">(</span><span class="token string">'my-layer'</span><span class="token punctuation">,</span> <span class="token string">'visibility'</span><span class="token punctuation">,</span> <span class="token string">'none'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="getlayoutproperty-layerid-name"><a href="#getlayoutproperty-layerid-name" class="header-anchor">#</a> <code>getLayoutProperty(layerId, name)</code></h3> <p>获取指定样式层中<code>layout</code>的属性值。</p> <p><strong>参数列表：</strong></p> <p><em>layerId&lt;string&gt;</em>: 图层id。</p> <p><em>name&lt;string&gt;</em>: 要获取的<code>layout</code>的名称。</p> <p><strong>返回值：</strong></p> <p><code>layout</code>属性值。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> layoutProperty <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getLayoutProperty</span><span class="token punctuation">(</span><span class="token string">'mySymbolLayer'</span><span class="token punctuation">,</span> <span class="token string">'icon-anchor'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="样式-2"><a href="#样式-2" class="header-anchor">#</a> 样式</h2> <h3 id="setlight-light"><a href="#setlight-light" class="header-anchor">#</a> <code>setLight(light)</code></h3> <p>设置灯光值的任意组合。</p> <p><strong>参数列表：</strong></p> <p><em>light&lt;LightSpecification&gt;</em>: 详见<a href="/map-doc/style-specification/">样式规范</a>。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">setLight</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;anchor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;viewport&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;intensity&quot;</span><span class="token operator">:</span> <span class="token number">0.5</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="getlight"><a href="#getlight" class="header-anchor">#</a> <code>getLight()</code></h3> <p>获取灯光值。</p> <p><strong>返回值：</strong></p> <p>灯光值。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> light <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getLight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="setfog-fog"><a href="#setfog-fog" class="header-anchor">#</a> <code>setFog(fog)</code></h3> <p>设置雾属性。</p> <p><strong>参数列表：</strong></p> <p><em>fog&lt;FogSpecification&gt;</em>: 详见<a href="/map-doc/style-specification/">样式规范</a>。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">setFog</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;range&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#dc9f9f&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;horizon-blend&quot;</span><span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;high-color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#245bde&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;space-color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#000000&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;star-intensity&quot;</span><span class="token operator">:</span> <span class="token number">0.15</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="getfog"><a href="#getfog" class="header-anchor">#</a> <code>getFog()</code></h3> <p>获取雾属性。</p> <p><strong>返回值：</strong></p> <p>雾属性。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> fog <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getFog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="要素状态"><a href="#要素状态" class="header-anchor">#</a> 要素状态</h2> <h3 id="setfeaturestate-feature-state"><a href="#setfeaturestate-feature-state" class="header-anchor">#</a> <code>setFeatureState(feature, state)</code></h3> <p>设置要素的状态。要素的状态是在运行时分配给要素的一组用户定义的键-值对。</p> <p><strong>参数列表：</strong></p> <p><em>feature&lt;Object&gt;</em>:</p> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td><strong>id&lt;number | string&gt;</strong></td> <td>要素的唯一id</td></tr> <tr><td><strong>source&lt;string&gt;</strong></td> <td>要素的矢量或GeoJSON源的id</td></tr> <tr><td><strong>sourceLayer&lt;string&gt;</strong></td> <td>（可选）对于矢量瓦片源，需要sourceLayer</td></tr></tbody></table> <p><em>state&lt;Object&gt;</em>: 一组键值对。这些值应该是有效的JSON类型。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> <span class="token string">'my-layer'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>features<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    map<span class="token punctuation">.</span><span class="token function">setFeatureState</span><span class="token punctuation">(</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token string">'my-source'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">sourceLayer</span><span class="token operator">:</span> <span class="token string">'my-source-layer'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> e<span class="token punctuation">.</span>features<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span><span class="token literal-property property">hover</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="removefeaturestate-feature-key"><a href="#removefeaturestate-feature-key" class="header-anchor">#</a> <code>removeFeatureState(feature, key)</code></h3> <p>移除要素的状态，并将其设置回默认行为。如果指定了源，它将删除该源中所有要素的状态，如果还指定了键，则仅从该要素的状态中删除该键。</p> <p><strong>参数列表：</strong></p> <p><em>feature&lt;Object&gt;</em>:</p> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td><strong>id&lt;number | string&gt;</strong></td> <td>要素的唯一id</td></tr> <tr><td><strong>source&lt;string&gt;</strong></td> <td>要素的矢量或GeoJSON源的id</td></tr> <tr><td><strong>sourceLayer&lt;string&gt;</strong></td> <td>（可选）对于矢量瓦片源，需要sourceLayer</td></tr></tbody></table> <p><em>key&lt;string&gt;</em>: (可选)要重置的要素状态的键。</p> <p><strong>返回值：</strong></p> <p>this。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">removeFeatureState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token string">'my-source'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="getfeaturestate-feature"><a href="#getfeaturestate-feature" class="header-anchor">#</a> <code>getFeatureState(feature)</code></h3> <p>获取要素的状态。</p> <p><strong>参数列表：</strong></p> <p><em>feature&lt;Object&gt;</em>:</p> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td><strong>id&lt;number | string&gt;</strong></td> <td>要素的唯一id</td></tr> <tr><td><strong>source&lt;string&gt;</strong></td> <td>要素的矢量或GeoJSON源的id</td></tr> <tr><td><strong>sourceLayer&lt;string&gt;</strong></td> <td>（可选）对于矢量瓦片源，需要sourceLayer</td></tr></tbody></table> <p><strong>返回值：</strong></p> <p>要素的状态</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> <span class="token string">'my-layer'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>features<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        map<span class="token punctuation">.</span><span class="token function">getFeatureState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token string">'my-source'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">sourceLayer</span><span class="token operator">:</span> <span class="token string">'my-source-layer'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">id</span><span class="token operator">:</span> e<span class="token punctuation">.</span>features<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>id
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="生命周期"><a href="#生命周期" class="header-anchor">#</a> 生命周期</h2> <h3 id="loaded"><a href="#loaded" class="header-anchor">#</a> <code>loaded()</code></h3> <p>返回一个布尔值，指示地图是否已完全加载。</p> <p><strong>返回值：</strong></p> <p>指示地图是否已完全加载的布尔值。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> isLoaded <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">loaded</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="destroy"><a href="#destroy" class="header-anchor">#</a> <code>destroy()</code></h3> <p>清理并释放与此地图相关的所有内部资源。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="triggerrepaint"><a href="#triggerrepaint" class="header-anchor">#</a> <code>triggerRepaint()</code></h3> <p>手动触发单个帧的渲染。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">triggerRepaint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="相机"><a href="#相机" class="header-anchor">#</a> 相机</h2> <h3 id="getcenter"><a href="#getcenter" class="header-anchor">#</a> <code>getCenter()</code></h3> <p>返回地图的地理中心点。</p> <p><strong>返回值：</strong></p> <p>地图的地理中心点。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span>lng<span class="token punctuation">,</span> lat<span class="token punctuation">}</span> <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getCenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="setcenter"><a href="#setcenter" class="header-anchor">#</a> <code>setCenter()</code></h3> <p>设置地图的地理中心点。</p> <p><strong>参数列表：</strong></p> <p><em>center&lt;<a href="/map-doc/api-reference/common-class.html#lnglatlike">LngLatLike</a>&gt;</em>: 要设置的中心点。</p> <p><em>eventData&lt;Object | null&gt;</em>: 由于此方法触发的事件的事件对象。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">setCenter</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">74</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="panby-offset-options-eventdata"><a href="#panby-offset-options-eventdata" class="header-anchor">#</a> <code>panBy(offset, options, eventData)</code></h3> <p>按指定的偏移平移地图。</p> <p><strong>参数列表：</strong></p> <p><em>offset&lt;<a href="/map-doc/api-reference/common-class.html#pointlike">PointLike</a>&gt;</em>: 平移地图所依据的x和y坐标。</p> <p><em>options&lt;<a href="/map-doc/api-reference/common-class.html#animationoptions">AnimationOptions</a> | null&gt;</em>: 描述转换的目标和动画的选项对象。我们不建议使用 options.offset，因为这个值会覆盖这个参数的值。</p> <p><em>eventData&lt;Object | null&gt;</em>: 由于此方法触发的事件的事件对象。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">panBy</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">74</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="panto-lnglat-options-eventdata"><a href="#panto-lnglat-options-eventdata" class="header-anchor">#</a> <code>panTo(lnglat, options, eventData)</code></h3> <p>使用动画过渡将地图平移到指定位置。</p> <p><strong>参数列表：</strong></p> <p><em>lnglat&lt;<a href="/map-doc/api-reference/common-class.html#lnglatlike">LngLatLike</a>&gt;</em>: 要平移地图的位置。</p> <p><em>options&lt;<a href="/map-doc/api-reference/common-class.html#animationoptions">AnimationOptions</a> | null&gt;</em>: 描述转换的目标和动画的选项对象。我们不建议使用 options.offset，因为这个值会覆盖这个参数的值。</p> <p><em>eventData&lt;Object | null&gt;</em>: 由于此方法触发的事件的事件对象。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">panTo</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">74</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="getzoom"><a href="#getzoom" class="header-anchor">#</a> <code>getZoom()</code></h3> <p>返回地图的当前缩放级别。</p> <p><strong>返回值：</strong></p> <p>缩放级别。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">getZoom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="setzoom-zoom-eventdata"><a href="#setzoom-zoom-eventdata" class="header-anchor">#</a> <code>setZoom(zoom, eventData)</code></h3> <p>设置地图的缩放级别。</p> <p><strong>参数列表：</strong></p> <p><em>zoom&lt;number&gt;</em>: 要设置的缩放级别(0-20)。</p> <p><em>eventData&lt;Object | null&gt;</em>: 由于此方法触发的事件的事件对象。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">setZoom</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="zoomto-zoom-options-eventdata"><a href="#zoomto-zoom-options-eventdata" class="header-anchor">#</a> <code>zoomTo(zoom, options, eventData)</code></h3> <p>使用动画过渡将地图缩放到指定的缩放级别。</p> <p><strong>参数列表：</strong></p> <p><em>zoom&lt;number&gt;</em>: 要设置的缩放级别(0-20)。</p> <p><em>options&lt;<a href="/map-doc/api-reference/common-class.html#animationoptions">AnimationOptions</a>&gt;</em>: 动画对象。</p> <p><em>eventData&lt;Object | null&gt;</em>: 由于此方法触发的事件的事件对象。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">zoomTo</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">,</span>
  <span class="token literal-property property">offset</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="zoomin-options-eventdata"><a href="#zoomin-options-eventdata" class="header-anchor">#</a> <code>zoomIn(options, eventData)</code></h3> <p>将地图的缩放级别增加1。</p> <p><strong>参数列表：</strong></p> <p><em>options&lt;<a href="/map-doc/api-reference/common-class.html#animationoptions">AnimationOptions</a>&gt;</em>: 动画对象。</p> <p><em>eventData&lt;Object | null&gt;</em>: 由于此方法触发的事件的事件对象。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">zoomIn</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="zoomout-options-eventdata"><a href="#zoomout-options-eventdata" class="header-anchor">#</a> <code>zoomOut(options, eventData)</code></h3> <p>将地图的缩放级别减少1。</p> <p><strong>参数列表：</strong></p> <p><em>options&lt;<a href="/map-doc/api-reference/common-class.html#animationoptions">AnimationOptions</a>&gt;</em>: 动画对象。</p> <p><em>eventData&lt;Object | null&gt;</em>: 由于此方法触发的事件的事件对象。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">zoomOut</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="getbearing"><a href="#getbearing" class="header-anchor">#</a> <code>getBearing()</code></h3> <p>返回地图的当前方位角。</p> <p><strong>返回值：</strong></p> <p>方位角。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> bearing <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getBearing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="setbearing-bearing-eventdata"><a href="#setbearing-bearing-eventdata" class="header-anchor">#</a> <code>setBearing(bearing, eventData)</code></h3> <p>设置地图的方位角（旋转地图）。</p> <p><strong>参数列表：</strong></p> <p><em>bearing&lt;number&gt;</em>: 方位角。</p> <p><em>eventData&lt;Object | null&gt;</em>: 由于此方法触发的事件的事件对象。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">setBearing</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="getpadding"><a href="#getpadding" class="header-anchor">#</a> <code>getPadding()</code></h3> <p>获取地图内边距。</p> <p><strong>返回值：</strong></p> <p>地图内边距。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> padding <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getPadding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="setpadding-padding-eventdata"><a href="#setpadding-padding-eventdata" class="header-anchor">#</a> <code>setPadding(padding, eventData)</code></h3> <p>设置地图的内边距。</p> <p><strong>参数列表：</strong></p> <p><em>padding&lt;<a href="/map-doc/api-reference/common-class.html#paddingoptions">PaddingOptions</a>&gt;</em>: 所需的填充。格式：{left:number，right:number，top:number，bottom:number}。</p> <p><em>eventData&lt;Object | null&gt;</em>: 由于此方法触发的事件的事件对象。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">setPadding</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="rotateto-bearing-options-eventdata"><a href="#rotateto-bearing-options-eventdata" class="header-anchor">#</a> <code>rotateTo(bearing, options, eventData)</code></h3> <p>使用动画过渡将地图旋转到指定的方位角。</p> <p><strong>参数列表：</strong></p> <p><em>bearing&lt;number&gt;</em>: 方位角。</p> <p><em>options&lt;EasingOptions&gt;</em>: 描述过渡目标和动画的选项。接受<a href="/map-doc/api-reference/common-class.html#cameraoptions">CameraOptions</a>。和<a href="/map-doc/api-reference/common-class.html#animationoptions">AnimationOptions</a>。</p> <p><em>eventData&lt;Object | null&gt;</em>: 由于此方法触发的事件的事件对象。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">rotateTo</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="resetnorth-options-eventdata"><a href="#resetnorth-options-eventdata" class="header-anchor">#</a> <code>resetNorth(options, eventData)</code></h3> <p>旋转地图，使北方向上（0°方位），并带有动画过渡。</p> <p><strong>参数列表：</strong></p> <p><em>options&lt;EasingOptions&gt;</em>: 描述过渡目标和动画的选项。接受<a href="/map-doc/api-reference/common-class.html#cameraoptions">CameraOptions</a>和<a href="/map-doc/api-reference/common-class.html#animationoptions">AnimationOptions</a>。</p> <p><em>eventData&lt;Object | null&gt;</em>: 由于此方法触发的事件的事件对象。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">resetNorth</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="resetnorthpitch-options-eventdata"><a href="#resetnorthpitch-options-eventdata" class="header-anchor">#</a> <code>resetNorthPitch(options, eventData)</code></h3> <p>旋转和倾斜地图，使北方向上（0°方位），俯仰为0°，并带有动画过渡。</p> <p><strong>参数列表：</strong></p> <p><em>options&lt;EasingOptions&gt;</em>: 描述过渡目标和动画的选项。接受<a href="/map-doc/api-reference/common-class.html#cameraoptions">CameraOptions</a>和<a href="/map-doc/api-reference/common-class.html#animationoptions">AnimationOptions</a>。</p> <p><em>eventData&lt;Object | null&gt;</em>: 由于此方法触发的事件的事件对象。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">resetNorthPitch</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="getpitch"><a href="#getpitch" class="header-anchor">#</a> <code>getPitch()</code></h3> <p>返回地图的当前俯仰角（倾斜）。</p> <p><strong>返回值：</strong></p> <p>俯仰角。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> pitch <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getPitch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="setpitch-pitch-eventdata"><a href="#setpitch-pitch-eventdata" class="header-anchor">#</a> <code>setPitch(pitch, eventData)</code></h3> <p>设置俯仰角。</p> <p><strong>参数列表：</strong></p> <p><em>pitch&lt;number&gt;</em>: 俯仰角。</p> <p><em>eventData&lt;Object | null&gt;</em>: 由于此方法触发的事件的事件对象。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">setPitch</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="fitbounds-bounds-options-eventdata"><a href="#fitbounds-bounds-options-eventdata" class="header-anchor">#</a> <code>fitBounds(bounds, options?, eventData?)</code></h3> <p>平移和缩放地图，将其可见区域包含在指定的地理范围内。如果方位角不为零，此功能还将地图的方位角重置为0。</p> <p><strong>参数列表：</strong></p> <p><em>bounds&lt;<a href="/map-doc/api-reference/common-class.html#lnglatboundslike">LngLatBoundsLike</a>&gt;</em>: 边界对象。</p> <p><em>options&lt;Object | null&gt;</em>: 除了下面的字段外，选项还支持来自<a href="/map-doc/api-reference/common-class.html#animationoptions">AnimationOptions</a>和<a href="/map-doc/api-reference/common-class.html#cameraoptions">CameraOptions</a>的所有属性。</p> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td><strong>easing&lt;Function&gt;?</strong></td> <td>动画过渡的缓和功能。详见<a href="/map-doc/api-reference/common-class.html#animationoptions">AnimationOptions</a></td></tr> <tr><td><strong>liner&lt;boolean&gt;</strong> default: false</td> <td>如果为true，则使用map.easeTo转换地图。如果为false，则使用map.flyTo转换地图</td></tr> <tr><td><strong>maxZoom&lt;number&gt;?</strong></td> <td>地图视图转换到指定边界时允许的最大缩放级别。</td></tr> <tr><td><strong>offset&lt;<a href="/map-doc/api-reference/common-class.html#pointlike">PointLike</a>&gt;</strong> default: [0, 0]</td> <td>相对于地图中心的给定边界的中心，以像素为单位</td></tr> <tr><td><strong>padding&lt;number | <a href="/map-doc/api-reference/common-class.html#paddingoptions">PaddingOptions</a>&gt;?</strong></td> <td>要添加到给定边界的内边距（以像素为单位）</td></tr></tbody></table> <p><em>eventData&lt;Object | null&gt;</em>: 由于此方法触发的事件的事件对象。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> bbox <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">79</span><span class="token punctuation">,</span> <span class="token number">43</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">73</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">fitBounds</span><span class="token punctuation">(</span>bbox<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">padding</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token literal-property property">bottom</span><span class="token operator">:</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token literal-property property">right</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="jumpto-options-eventdata"><a href="#jumpto-options-eventdata" class="header-anchor">#</a> <code>jumpTo(options, eventData?)</code></h3> <p>更改中心、缩放、方位角和俯仰角的任意组合，无需动画过渡。对于选项中未指定的任何细节，地图将保留其当前值。</p> <p><strong>参数列表：</strong></p> <p><em>options&lt;<a href="/map-doc/api-reference/common-class.html#cameraoptions">CameraOptions</a>&gt;</em>: 配置对象</p> <p><em>eventData&lt;Object | null&gt;</em>: 由于此方法触发的事件的事件对象。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">jumpTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
  <span class="token literal-property property">pitch</span><span class="token operator">:</span> <span class="token number">45</span><span class="token punctuation">,</span>
  <span class="token literal-property property">bearing</span><span class="token operator">:</span> <span class="token number">90</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="getfreecameraoptions"><a href="#getfreecameraoptions" class="header-anchor">#</a> <code>getFreeCameraOptions()</code></h3> <p>返回相机实体的位置和方向。</p> <p><strong>返回值：</strong></p> <p><a href="/map-doc/api-reference/common-class.html#freecameraoptions">FreeCameraOptions</a> 相机状态对象。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> camera <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getFreeCameraOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> position <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">138.72649</span><span class="token punctuation">,</span> <span class="token number">35.33974</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> altitude <span class="token operator">=</span> <span class="token number">3000</span><span class="token punctuation">;</span>

camera<span class="token punctuation">.</span>position <span class="token operator">=</span> arkmap<span class="token punctuation">.</span>MercatorCoordinate<span class="token punctuation">.</span><span class="token function">fromLngLat</span><span class="token punctuation">(</span>position<span class="token punctuation">,</span> altitude<span class="token punctuation">)</span><span class="token punctuation">;</span>
camera<span class="token punctuation">.</span><span class="token function">lookAtPoint</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">138.73036</span><span class="token punctuation">,</span> <span class="token number">35.36197</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

map<span class="token punctuation">.</span><span class="token function">setFreeCameraOptions</span><span class="token punctuation">(</span>camera<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="setfreecameraoptions-options-eventdata"><a href="#setfreecameraoptions-options-eventdata" class="header-anchor">#</a> <code>setFreeCameraOptions(options, eventData)</code></h3> <p>设置相机实体的位置和方向。</p> <p><strong>参数列表：</strong></p> <p><em>options&lt;<a href="/map-doc/api-reference/common-class.html#freecameraoptions">FreeCameraOptions</a>&gt;</em>: 配置对象</p> <p><em>eventData&lt;Object | null&gt;</em>: 由于此方法触发的事件的事件对象。</p> <p><strong>返回值：</strong></p> <p><a href="/map-doc/api-reference/common-class.html#freecameraoptions">FreeCameraOptions</a> 相机状态对象。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> camera <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getFreeCameraOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> position <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">138.72649</span><span class="token punctuation">,</span> <span class="token number">35.33974</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> altitude <span class="token operator">=</span> <span class="token number">3000</span><span class="token punctuation">;</span>

camera<span class="token punctuation">.</span>position <span class="token operator">=</span> arkmap<span class="token punctuation">.</span>MercatorCoordinate<span class="token punctuation">.</span><span class="token function">fromLngLat</span><span class="token punctuation">(</span>position<span class="token punctuation">,</span> altitude<span class="token punctuation">)</span><span class="token punctuation">;</span>
camera<span class="token punctuation">.</span><span class="token function">lookAtPoint</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">138.73036</span><span class="token punctuation">,</span> <span class="token number">35.36197</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

map<span class="token punctuation">.</span><span class="token function">setFreeCameraOptions</span><span class="token punctuation">(</span>camera<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="easeto-options-eventdata"><a href="#easeto-options-eventdata" class="header-anchor">#</a> <code>easeTo(options, eventData)</code></h3> <p>使用平滑的过渡动画更改中心、缩放、方位角、俯仰角和内边距的任何组合。对于选项中未指定的参数，地图将保留其当前值。</p> <p><strong>参数列表：</strong></p> <p><em>options&lt;EasingOptions&gt;</em>: 描述转换的目标和动画的选项。接受 <a href="/map-doc/api-reference/common-class.html#cameraoptions">CameraOptions</a> 和 <a href="/map-doc/api-reference/common-class.html#animationoptions">AnimationOptions</a>。</p> <p><em>eventData&lt;Object | null&gt;</em>: 由于此方法触发的事件的事件对象。</p> <p><strong>返回值：</strong></p> <p><a href="/map-doc/api-reference/common-class.html#freecameraoptions">FreeCameraOptions</a> 相机状态对象。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Using easeTo options.</span>
map<span class="token punctuation">.</span><span class="token function">easeTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
    <span class="token literal-property property">speed</span><span class="token operator">:</span> <span class="token number">0.2</span><span class="token punctuation">,</span>
    <span class="token literal-property property">curve</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span>
    <span class="token function">easing</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> t<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="flyto-options-eventdata"><a href="#flyto-options-eventdata" class="header-anchor">#</a> <code>flyTo(options, eventData)</code></h3> <p>使用沿着引起飞行的曲线过渡动画来改变中心、变焦、方位角和俯仰角的任何组合。</p> <p><strong>参数列表：</strong></p> <p><em>options&lt;Object&gt;</em>: 描述过渡目标和动画的选项。接受<a href="/map-doc/api-reference/common-class.html#cameraoptions">CameraOptions</a>、<a href="/map-doc/api-reference/common-class.html#animationoptions">AnimationOptions</a>和以下附加选项。</p> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td><strong>curve&lt;number&gt;</strong> default: 1.42</td> <td>曲线的曲率</td></tr> <tr><td><strong>maxDuration&lt;number&gt;?</strong></td> <td>动画的最大持续时间，以毫秒为单位</td></tr> <tr><td><strong>minZoom&lt;number&gt;?</strong></td> <td>最小缩放值。</td></tr> <tr><td><strong>screenSpeed&lt;number&gt;？</strong></td> <td>动画的平均速度</td></tr> <tr><td><strong>speed&lt;number&gt;</strong> default: 1.2</td> <td>相对于选项定义的动画的平均速度。</td></tr></tbody></table> <p>eventData&lt;Object | null&gt; 由于此方法触发的事件的事件对象。</p> <p><strong>返回值：</strong></p> <p><a href="/map-doc/api-reference/common-class.html#freecameraoptions">FreeCameraOptions</a> 相机状态对象。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">flyTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
  <span class="token literal-property property">speed</span><span class="token operator">:</span> <span class="token number">0.2</span><span class="token punctuation">,</span>
  <span class="token literal-property property">curve</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token function">easing</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> t<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="stop"><a href="#stop" class="header-anchor">#</a> <code>stop()</code></h3> <p>停止任何正在进行的动画转换。</p> <p><strong>返回值：</strong></p> <p>Map实例。</p> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/map-doc/api-reference/map.html" class="prev">
        构造配置
      </a></span> <span class="next"><a href="/map-doc/api-reference/common-methods.html">
        公用方法
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/map-doc/assets/js/app.bc981c4b.js" defer></script><script src="/map-doc/assets/js/9.e81450af.js" defer></script><script src="/map-doc/assets/js/37.28834f24.js" defer></script>
  </body>
</html>
